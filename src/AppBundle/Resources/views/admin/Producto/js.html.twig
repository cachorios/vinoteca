<script type="text/javascript">
    $("#appbundle_producto_images").fileinput({
        {#{% set imagen_src = entity.imagen == null ? asset("images/default-image.png" ) : asset("uploads/categorias/" ~ entity.imagen  ) %}#}
        {#initialPreview: ["<img src='{{ imagen_src }}' class='file-preview-image'>"],#}
        overwriteInitial: true,
        showUpload: false,
        showCaption: false,
        browseClass: "btn btn-primary btn-sm",
        fileType: "any",
        allowedFileTypes: ['image'],
        'allowedFileExtensions': ['jpg', 'png', 'gif'],
        uploadLabel: 'Subir',
        removeLabel: 'Quitar',
        browseLabel: 'Explorar'
    });
</script>

<script type="text/javascript">
    jQuery(document).ready(function () {
        $('.image-delete').on('click', function(e) {
            e.preventDefault();
            var $anchor = $(this);
            var url = $(this).data("href");
            var li = $(this).parents('li');

            $.ajax({
                type: "GET",
                url: url,
                success: function (msg) {
                    var message = msg.toString();
                    li.remove();
                },
                error: function() {
                    var message = msg.toString();
                }
            });
        });

        $('.radio-select-primario').on('change', function(e) {
            e.preventDefault();
            var $data = $(this).val();
            var url = $(this).data("href");

            $.ajax({
                type: "GET",
                url: url,
                success: function (msg) {
                    var message = msg.toString();
                },
                error: function() {
                    var message = msg.toString();
                }
            });
        });
    })

</script>

<script type="text/javascript">
    jQuery(document).ready(function () {
        $('select[id$=appbundle_producto_categoria]').change(function () {
            $.ajax({
                type: "GET",
                data: "categoria=" + $(this).val(),
                url: "{{ path('producto_extencion') }}",
                success: function (msg) {
                    if (msg != '') {
                        $('#info-acicional').html(msg);
                    }
                    else {
                        $('#info-acicional').html('Sin Metadatos definidos');
                    }
                },
                error: function (msg) {
                }
            });
        });

})
</script>